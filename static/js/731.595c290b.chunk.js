"use strict";(self.webpackChunkhk_independent_bus_eta=self.webpackChunkhk_independent_bus_eta||[]).push([[731],{3310:function(t,e,n){var o=n(7313),a=n(1113),r=n(4511),i=n(6060),c=n(9878),s=n(421),u=n(6417);e.Z=function(t){var e=t.routeId,n=t.seq,l=t.containerClass,d=void 0===l?"":l,p=t.showStopName,f=void 0!==p&&p,m=(0,r.$)(),x=m.t,g=m.i18n,h=(0,o.useContext)(i.Z),v=h.db,Z=v.routeList,j=v.stopList,b=h.etaFormat,C=(0,c.e)("".concat(e,"/").concat(n));if(null==C)return(0,u.jsx)("div",{className:d,children:(0,u.jsx)(s.u,{})});var y=function(t){if(!t)return"";var e=Math.round((new Date(t).getTime()-(new Date).getTime())/60/1e3);if(!Number.isInteger(e))return t.remark[g.language];var n=t.substr(11,5),o=e<1?"- ".concat(x("\u5206\u9418")):"".concat(e," ").concat(x("\u5206\u9418"));switch(b){case"exact":return n;case"diff":return o;default:return"".concat(n," (").concat(o,")")}},S=Object.values(Z[e].stops)[0][n];return(0,u.jsxs)("div",{className:d,children:[f?(0,u.jsx)(a.Z,{variant:"caption",children:j[S].name[g.language]}):null,0===C.length?x("\u672a\u6709\u73ed\u6b21\u8cc7\u6599"):C.map((function(t,e){return(0,u.jsxs)(a.Z,{variant:"subtitle1",children:[y(t.eta)," -"," ",t.remark[g.language]?t.remark[g.language]:""," ",x(t.co)]},"route-".concat(e))}))]})}},1731:function(t,e,n){n.r(e),n.d(e,{default:function(){return vt}});var o=n(9439),a=n(7313),r=n(8467),i=n(7912),c=n(501),s=n(1113),u=n(9530),l=n(5823),d=n(4511),p=n(6060),f=n(3433),m=n(9536),x=n(9099),g=n(1171),h=n(6417),v=(0,g.Z)((0,h.jsx)("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"}),"SyncAlt"),Z=n(3135),j=function(t){var e=t.routeId,n=(0,d.$)(),i=n.t,c=n.i18n,s=(0,a.useContext)(p.Z),u=s.db,g=u.routeList,j=u.holidays,y=u.stopList,S=s.vibrateDuration,k=g[e],w=k.route,I=k.stops,M=k.co,L=(0,r.s0)(),E=(0,a.useMemo)((function(){return(0,Z.HD)(j,new Date)}),[j]),z=(0,a.useMemo)((function(){return Object.entries(g).reduce((function(t,n){var a=(0,o.Z)(n,2),r=a[0],i=a[1];if(r===e)return t;var c=i.co;return i.route===w&&JSON.stringify(M)===JSON.stringify(c)?[].concat((0,f.Z)(t),[[r,i]]):t}),[]).sort((function(t,e){var n=(0,o.Z)(t,2)[1],a=(0,o.Z)(e,2)[1],r=(0,Z.x4)(n.route,n.freq,E),i=(0,Z.x4)(a.route,a.freq,E);if(r===i){var c=y[Object.values(I)[0][0]],s=y[Object.values(I)[0].slice(-1)[0]],u=y[Object.values(n.stops)[0][0]],d=y[Object.values(n.stops)[0].slice(-1)[0]],p=(0,l.Sp)(u.location,s.location)+(0,l.Sp)(c.location,d.location),f=y[Object.values(a.stops)[0][0]],m=y[Object.values(a.stops)[0].slice(-1)[0]];return p<(0,l.Sp)(f.location,s.location)+(0,l.Sp)(c.location,m.location)?-1:1}return r>i?-1:1})).map((function(t){return(0,o.Z)(t,1)[0]})).filter((function(t){return t.toLowerCase()!==e}))}),[w,M,g,y,E,e,I]),D=(0,a.useCallback)((function(t){t.preventDefault(),(0,l.tp)(S),setTimeout((function(){L("/".concat(c.language,"/route/").concat(z[0].toLowerCase()))}),0)}),[z,L,c.language,S]);return z.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{orientation:"vertical",sx:b}),(0,h.jsx)(x.Z,{variant:"text","aria-label":"open-timetable",sx:C,size:"small",startIcon:(0,h.jsx)(v,{}),onClick:D,children:i("\u5c0d\u982d\u7dda")})]})},b={position:"absolute",top:"0",left:"calc(64px + 2%)"},C={color:function(t){return t.palette.getContrastText(t.palette.background.default)},position:"absolute",top:"0",left:"2%",flexDirection:"column",justifyContent:"center","& > .MuiButton-label":{flexDirection:"column",justifyContent:"center"},"& > .MuiButton-startIcon":{margin:0}},y=(0,g.Z)([(0,h.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,h.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),S=n(4942),k=n(7216),w=n(8310),I=n(3947),M=n(7592),L={31:"\u661f\u671f\u4e00\u81f3\u4e94",287:"\u661f\u671f\u4e00\u81f3\u4e94",415:"\u661f\u671f\u4e00\u81f3\u4e94",63:"\u661f\u671f\u4e00\u81f3\u516d",319:"\u661f\u671f\u4e00\u81f3\u516d",447:"\u661f\u671f\u4e00\u81f3\u516d",416:"\u661f\u671f\u516d\u81f3\u65e5",480:"\u661f\u671f\u516d\u81f3\u65e5",266:"\u661f\u671f\u4e8c\u81f3\u56db",271:"\u661f\u671f\u4e00\u81f3\u56db",272:"\u661f\u671f\u4e94",288:"\u661f\u671f\u516d",320:"\u661f\u671f\u65e5\u53ca\u516c\u773e\u5047\u671f",448:"\u661f\u671f\u65e5\u53ca\u516c\u773e\u5047\u671f",511:"\u6240\u6709\u65e5\u5b50",111:"\u9664\u661f\u671f\u4e09\u5916",1:"\u661f\u671f\u4e00",2:"\u661f\u671f\u4e8c",4:"\u661f\u671f\u4e09",8:"\u661f\u671f\u56db",16:"\u661f\u671f\u4e94",32:"\u661f\u671f\u516d",64:"\u661f\u671f\u65e5",257:"\u661f\u671f\u4e00",258:"\u661f\u671f\u4e8c",260:"\u661f\u671f\u4e09",264:"\u661f\u671f\u56db",999:"\u672a\u77e5\u65e5\u5b50"},E=function(t){var e=t.freq,n=t.jt,r=t.open,i=t.onClose,c=(0,d.$)().t,u=(0,a.useMemo)((function(){return Object.entries(e).map((function(t){var e=(0,o.Z)(t,2),n=e[0],a=e[1];return(0,h.jsxs)(k.ZP,{className:D.entries,children:[(0,h.jsx)(s.Z,{variant:"subtitle1",children:c(L[n])}),Object.entries(a).sort((function(t,e){return t[0]<e[0]?-1:1})).map((function(t){var e=(0,o.Z)(t,2),a=e[0],r=e[1];return(0,h.jsxs)("div",{className:D.freqContainer,children:[(0,h.jsxs)(s.Z,{variant:"body1",children:[a," ",r?"- ".concat(r[0]):""]}),r?(0,h.jsxs)(s.Z,{variant:"body1",children:[parseInt(r[1],10)/60,c("\u5206\u9418")]}):(0,h.jsx)(h.Fragment,{})]},"".concat(n,"-").concat(a))}))]},"".concat(n))}))}),[e,c]),l=(0,a.useMemo)((function(){return{onClose:function(){i()}}}),[i]),p=(0,a.useMemo)((function(){return{className:"timetable-drawer"}}),[]);return(0,h.jsxs)(P,{open:r,ModalProps:l,PaperProps:p,anchor:"right",children:[n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.ZP,{className:D.entries,children:(0,h.jsxs)("div",{className:D.jtContainer,children:[(0,h.jsx)(s.Z,{variant:"subtitle1",children:c("\u8eca\u7a0b")}),(0,h.jsxs)(s.Z,{variant:"subtitle1",children:[Math.round(n),c("\u5206\u9418")]})]})}),(0,h.jsx)(m.Z,{className:D.divider})]}):null,(0,h.jsx)(w.Z,{children:u})]})},z="timetable",D={drawer:"".concat(z,"-drawer"),entries:"".concat(z,"-entries"),jtContainer:"".concat(z,"-jtContainer"),divider:"".concat(z,"-divider"),freqContainer:"".concat(z,"-freqContainer")},P=(0,M.ZP)(I.ZP)((function(t){var e,n=t.theme;return e={},(0,S.Z)(e,"& .".concat(D.drawer),{height:"100vh",width:"80%",maxWidth:"320px",paddingTop:"56px",paddingLeft:"20px",backgroundColor:"dark"===n.palette.mode?n.palette.background.default:n.palette.primary.main,backgroundImage:"none"}),(0,S.Z)(e,"& .".concat(D.jtContainer),{display:"flex",justifyContent:"space-between",width:"80%"}),(0,S.Z)(e,"& .".concat(D.divider),{width:"80%"}),(0,S.Z)(e,"& .".concat(D.entries),{flexDirection:"column",alignItems:"flex-start"}),(0,S.Z)(e,"& .".concat(D.freqContainer),{display:"flex",justifyContent:"space-between",width:"80%"}),e})),R=function(t){var e=t.routeId,n=(0,a.useState)(!1),r=(0,o.Z)(n,2),i=r[0],c=r[1],s=(0,d.$)().t,u=(0,a.useContext)(p.Z).db.routeList[e],l=u.freq,f=u.jt;return l&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{orientation:"vertical",sx:T}),(0,h.jsx)(x.Z,{variant:"text","aria-label":"open-timetable",sx:N,size:"small",startIcon:(0,h.jsx)(y,{}),onClick:function(){return c(!0)},children:s("\u6642\u9593\u8868")}),(0,h.jsx)(E,{freq:l,jt:f,open:i,onClose:function(){return c(!1)}})]})},T={position:"absolute",top:"0",right:"calc(64px + 2%)"},N={color:function(t){return t.palette.getContrastText(t.palette.background.default)},position:"absolute",top:"0",right:"2%",flexDirection:"column",justifyContent:"center","& > .MuiButton-label":{flexDirection:"column",justifyContent:"center"},"& > .MuiButton-startIcon":{margin:0}},O=function(t){var e=t.routeId,n=(0,d.$)(),o=n.t,r=n.i18n,i=(0,a.useContext)(p.Z).db.routeList[e],f=i.route,m=i.orig,x=i.dest,g=i.nlbId;return(0,h.jsxs)(c.Z,{id:"route-eta-header",sx:F,elevation:0,children:[(0,h.jsx)(u.Z,{routeNo:f,component:"h1",align:"center"}),(0,h.jsxs)(s.Z,{component:"h2",variant:"caption",align:"center",children:[o("\u5f80")," ",(0,l.iF)(x[r.language])," ",g?o("\u7531")+" "+(0,l.iF)(m[r.language]):""]}),(0,h.jsx)(j,{routeId:e}),(0,h.jsx)(R,{routeId:e})]})},F={textAlign:"center",background:"transparent",position:"relative"},H=n(1413),$=n(7829),q=n(7131),A=n(1422),B=n(3171),_=n(8492),U=n(1872),V=n(2576),W=n(8816),Y=n(8941),J=n(3973),X=n(3310),G=n(6845),K=(0,i.ZP)((function(){return Promise.all([n.e(604),n.e(4)]).then(n.bind(n,4004))})),Q=function(t){var e=t.routeId,n=t.stopIdx,r=t.expanded,i=t.routeListEntry,c=t.stopListExtracted,u=t.handleChange,f=t.onStopInfo,m=e,x=(0,a.useContext)(p.Z),g=x.savedEtas,v=x.updateSavedEtas,Z=x.energyMode,j=x.setCollectionDrawerRoute,b=(0,a.useState)(!1),C=(0,o.Z)(b,2),y=C[0],S=C[1],k=(0,a.useState)(null),w=(0,o.Z)(k,2),I=w[0],M=w[1],L=i.route,E=i.dest,z=i.fares,D=i.faresHoliday,P=(0,d.$)(),R=P.t,T=P.i18n,N=(0,a.useRef)([]);(0,a.useEffect)((function(){if(r&&N.current[n]){var t=setTimeout((function(){var t;null===(t=N.current[n])||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})}),50);return function(){clearTimeout(t)}}}),[r,n]);var O=(0,a.useMemo)((function(){return c.map((function(t,e){return(0,h.jsxs)(ot,{id:"stop-".concat(e),expanded:n===e&&r,onChange:function(t,n){u(e,n)},TransitionProps:{unmountOnExit:!0},ref:function(t){t instanceof HTMLElement&&(N.current[e]=t,n===e&&t.scrollIntoView({behavior:"smooth",block:"nearest"}))},classes:{root:et.accordionRoot,expanded:et.accordionExpanded},children:[(0,h.jsxs)(at,{classes:{root:et.accordionSummaryRoot,content:et.accordionSummaryContent,expanded:et.accordionSummaryExpanded},children:[(0,h.jsxs)(s.Z,{component:"h3",variant:"body1",classes:{root:et.accordionSummaryContentTitle},children:[e+1,". ",(0,l.iF)(t.name[T.language])]}),(0,h.jsxs)(s.Z,{variant:"body2",children:[z&&z[e]?R("\u8eca\u8cbb")+": $"+z[e]:"",D&&D[e]?"\u3000\u3000\u3000\u3000"+R("\u5047\u65e5\u8eca\u8cbb")+": $"+D[e]:""]})]}),(0,h.jsxs)(rt,{classes:{root:et.accordionDetailsRoot},children:[(0,h.jsx)(X.Z,{containerClass:et.accordionTimeReport,routeId:"".concat(m.toUpperCase()),seq:e}),(0,h.jsxs)($.Z,{children:[(0,h.jsxs)($.Z,{children:[(0,h.jsx)(q.Z,{"aria-label":"direction",onClick:function(){var e=t.location,n=e.lat,o=e.lng;window.open("https://www.google.com/maps/dir/?api=1&destination=".concat(n,",").concat(o,"&travelmode=walking"))},style:{background:"transparent"},size:"large",children:(0,h.jsx)(V.Z,{})}),(0,h.jsx)(q.Z,{"aria-label":"stop-info",onClick:f,style:{background:"transparent"},size:"large",children:(0,h.jsx)(J.Z,{})})]}),(0,h.jsxs)($.Z,{children:[(0,h.jsx)(q.Z,{"aria-label":"share",onClick:function(n){M({id:m,route:L,dest:E,idx:e,setIsCopied:S,stop:t,event:n})},style:{backgroundColor:"transparent"},size:"large",children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(q.Z,{"aria-label":"favourite",onClick:function(){var t="".concat(m.toUpperCase(),"/").concat(e);j(t),v(t)},style:{backgroundColor:"transparent"},size:"large",children:g.includes("".concat(m.toUpperCase(),"/").concat(e))?(0,h.jsx)(W.Z,{}):(0,h.jsx)(Y.Z,{})})]})]})]})]},"stop-"+e)}))}),[E,r,z,D,u,T.language,m,L,g,M,n,c,R,j,v,f]);return(0,h.jsxs)(nt,{className:Z?et.boxContainerEnergy:et.boxContainer,children:[O,I&&(0,h.jsx)(K,(0,H.Z)({},I)),(0,h.jsx)(A.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:y,autoHideDuration:1500,onClose:function(){S(!1)},message:R("\u5df2\u8907\u88fd\u5230\u526a\u8cbc\u7c3f")})]})},tt="stopAccordions",et={boxContainer:"".concat(tt,"-boxContainer"),boxContainerEnergy:"".concat(tt,"-boxContainerEnergy"),accordionRoot:"".concat(tt,"-accordion-root"),accordionExpanded:"".concat(tt,"-accordion-expanded"),accordionSummaryRoot:"".concat(tt,"-summary-root"),accordionSummaryContent:"".concat(tt,"-summary-content"),accordionSummaryContentTitle:"".concat(tt,"-summary-content-title"),accordionSummaryExpanded:"".concat(tt,"-summary-expanded"),accordionDetailsRoot:"".concat(tt,"-details-root"),accordionTimeReport:"".concat(tt,"-accordionTimeReport")},nt=(0,M.ZP)($.Z)((function(t){var e;t.theme;return e={},(0,S.Z)(e,"&.".concat(et.boxContainer),{overflowY:"scroll"}),(0,S.Z)(e,"&.".concat(et.boxContainerEnergy),{overflowY:"scroll"}),e})),ot=(0,M.ZP)(B.Z)((function(t){t.theme;return(0,S.Z)({},"&.".concat(et.accordionRoot),(0,S.Z)({border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}},"&.".concat(et.accordionExpanded),{margin:"auto"}))})),at=(0,M.ZP)(_.Z)((function(t){var e,n=t.theme;return(0,S.Z)({},"&.".concat(et.accordionSummaryRoot),(e={backgroundColor:"dark"===n.palette.mode?n.palette.background.default:"rgba(0, 0, 0, .03)"},(0,S.Z)(e,"&.".concat(et.accordionSummaryExpanded),{borderBottom:"1px solid rgba(0, 0, 0, .125)"}),(0,S.Z)(e,"marginBottom",-1),(0,S.Z)(e,"minHeight",44),(0,S.Z)(e,"&.".concat(et.accordionSummaryExpanded),{minHeight:44}),(0,S.Z)(e,"& .".concat(et.accordionSummaryContent),(0,S.Z)({margin:"8px 0",flexDirection:"column"},"&.".concat(et.accordionSummaryExpanded),{margin:"8px 0"})),(0,S.Z)(e,"& .".concat(et.accordionSummaryContentTitle),{fontWeight:700}),e))})),rt=(0,M.ZP)(U.Z)((function(t){var e,n=t.theme;return e={},(0,S.Z)(e,"&.".concat(et.accordionDetailsRoot),{display:"flex",alignItems:"center",paddingLeft:n.spacing(2),paddingRight:n.spacing(1),paddingTop:n.spacing(1),paddingBottom:n.spacing(1),justifyContent:"space-between"}),(0,S.Z)(e,"& .".concat(et.accordionTimeReport),{flex:1}),e})),it=n(3604),ct=n(6467),st=n(4469),ut=n(1660),lt=n(9563),dt="stopDialog",pt={root:"".concat(dt,"-root"),title:"".concat(dt,"-title")},ft=(0,M.ZP)(st.Z)((function(t){var e,n=t.theme;return e={},(0,S.Z)(e,"&.".concat(pt.root),{"& .MuiPaper-root":{width:"100%",marginTop:"90px",height:"calc(100vh - 100px)"}}),(0,S.Z)(e,"& .".concat(pt.title),{backgroundColor:"dark"===n.palette.mode?n.palette.background.default:n.palette.primary.main,color:"dark"===n.palette.mode?n.palette.primary.main:n.palette.text.primary}),(0,S.Z)(e,"& .MuiDialogContent-root",{padding:0}),e})),mt=function(t){var e=t.open,n=t.stops,r=t.handleClose,i=(0,a.useContext)(p.Z),c=i.db,s=c.routeList,u=c.stopList,f=i.busSortOrder,m=(0,d.$)().i18n,x=(0,a.useState)([]),g=(0,o.Z)(x,2),v=g[0],Z=g[1];return(0,a.useEffect)((function(){if(void 0!==n){var t=[];Object.entries(s).sort((function(t,e){return(0,l.nO)(t,e,lt.Y$[f])})).forEach((function(e){var a=(0,o.Z)(e,2),r=a[0],i=a[1];n.some((function(e){var n=(0,o.Z)(e,2),a=n[0],c=n[1];return!(!i.stops[a]||!i.stops[a].includes(c))&&(t.push(r+"/"+i.stops[a].indexOf(c)),!0)}))})),Z(t)}else Z([])}),[n]),(0,h.jsxs)(ft,{open:e,onClose:r,className:pt.root,children:[(0,h.jsx)(it.Z,{className:pt.title,children:u[n[0][1]].name[m.language]}),(0,h.jsx)(ct.Z,{children:(0,h.jsx)(w.Z,{children:v.map((function(t){return(0,h.jsx)(ut.Z,{routeId:t},t)}))})})]})},xt=(0,i.ZP)((function(){return Promise.all([n.e(512),n.e(7)]).then(n.bind(n,6007))})),gt=function(t,e){for(var n=0;n<t.length;++n)if(t[n]in e)return e[t[n]];return[]},ht=function(t,e,n,o){for(var a=0;a<t.length;++a)if(t[a]in e)return[[t[a],e[t[a]][o]]].concat(n[e[t[a]][o]]||[])},vt=function(){var t=(0,r.UO)(),e=t.id,n=t.panel,i=(0,a.useContext)(p.Z),c=i.AppTitle,s=i.db,u=s.routeList,f=s.stopList,m=s.stopMap,x=i.updateSelectedRoute,g=i.energyMode,v=i.workbox,Z=i.geoPermission,j=i.geolocation,b=u[e.toUpperCase()],C=b.route,y=b.stops,S=b.co,k=b.orig,w=b.dest,I=b.fares,M=(0,a.useMemo)((function(){return gt(S,y).map((function(t){return f[t]})).filter((function(t){return null!==t&&void 0!==t}))}),[S,f,y]),L=0;if(void 0!==n)L=parseInt(n,10);else if("granted"===Z){var E=M.map((function(t,e){return[e,(0,l.Sp)(j,t.location)]})).sort((function(t,e){return t[1]-e[1]}))[0];L=E.length>0?E[0]:0}else L=0;var z=(0,a.useState)(!0),D=(0,o.Z)(z,2),P=D[0],R=D[1],T=(0,a.useState)(!1),N=(0,o.Z)(T,2),F=N[0],H=N[1],$=(0,a.useMemo)((function(){return ht(S,y,m,String(L))}),[S,L,m,y]),q=(0,d.$)(),A=q.t,B=q.i18n,_=(0,r.s0)(),U=(0,a.useCallback)((function(t,n){n&&L!==t&&_("/".concat(B.language,"/route/").concat(e,"/").concat(t),{replace:!0}),L!==t||n?R(n):H(!0)}),[_,B.language,e,L]),V=(0,a.useCallback)((function(t){L===t&&H(!0),_("/".concat(B.language,"/route/").concat(e,"/").concat(t),{replace:!0})}),[_,B.language,e,L]),W=(0,a.useCallback)((function(){H(!0)}),[H]),Y=(0,a.useCallback)((function(){H(!1)}),[H]);return(0,a.useEffect)((function(){H(!1),document.getElementById(e).setAttribute("value",e),x(e)}),[e,x]),(0,a.useEffect)((function(){(0,l.ND)({title:C+" "+A("\u5f80")+" "+(0,l.iF)(w[B.language])+" - "+A(c),description:function(){var t=I?I.filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return"$".concat(t)})):[];return"zh"===B.language?"\u8def\u7dda".concat(C)+"\u7531".concat(k.zh,"\u51fa\u767c\uff0c\u4ee5").concat(w.zh,"\u70ba\u7d42\u9ede\uff0c")+(t.length?"\u5206\u6bb5\u8eca\u8cbb\u70ba".concat(t.join("\u3001"),"\uff0c"):"")+"\u9014\u7d93".concat(M.map((function(t){return t.name.zh})).join("\u3001"),"\u3002"):"Route ".concat(C," ")+"is from ".concat((0,l.iF)(k.en)," to ").concat((0,l.iF)(w.en))+(t.length?", section fees are ".concat(t.join(", "),". "):". ")+"Stops: "+(0,l.iF)(M.map((function(t){return t.name.en})).join(", "))+". "}(),lang:B.language})}),[c,w,I,B.language,k.en,k.zh,C,M,A]),(0,a.useEffect)((function(){if(!g&&"prerendering"!==navigator.userAgent){var t={type:"WARN_UP_MAP_CACHE",retinaDisplay:(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zoomLevels:[14,15,16,17,18],stopList:gt(S,y).map((function(t){return f[t]})).filter((function(t){return null!==t&&void 0!==t}))};null===v||void 0===v||v.messageSW(t)}}),[S,g,f,y,v]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{hidden:!0,id:e}),(0,h.jsx)(O,{routeId:e.toUpperCase()}),!g&&"prerendering"!==navigator.userAgent&&(0,h.jsx)(xt,{stops:M,stopIdx:L,onMarkerClick:V}),(0,h.jsx)(Q,{routeId:e,stopIdx:L,routeListEntry:b,stopListExtracted:M,expanded:P&&"prerendering"!==navigator.userAgent,handleChange:U,onStopInfo:W}),(0,h.jsx)(mt,{open:F,stops:$,handleClose:Y})]})}},2576:function(t,e,n){var o=n(4836);e.Z=void 0;var a=o(n(5045)),r=n(6417),i=(0,a.default)((0,r.jsx)("path",{d:"m21.41 10.59-7.99-8c-.78-.78-2.05-.78-2.83 0l-8.01 8c-.78.78-.78 2.05 0 2.83l8.01 8c.78.78 2.05.78 2.83 0l7.99-8c.79-.79.79-2.05 0-2.83zM13.5 14.5V12H10v3H8v-4c0-.55.45-1 1-1h4.5V7.5L17 11l-3.5 3.5z"}),"Directions");e.Z=i},3973:function(t,e,n){var o=n(4836);e.Z=void 0;var a=o(n(5045)),r=n(6417),i=(0,a.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");e.Z=i},6845:function(t,e,n){var o=n(4836);e.Z=void 0;var a=o(n(5045)),r=n(6417),i=(0,a.default)((0,r.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");e.Z=i},8816:function(t,e,n){var o=n(4836);e.Z=void 0;var a=o(n(5045)),r=n(6417),i=(0,a.default)((0,r.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");e.Z=i},8941:function(t,e,n){var o=n(4836);e.Z=void 0;var a=o(n(5045)),r=n(6417),i=(0,a.default)((0,r.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");e.Z=i},3604:function(t,e,n){var o=n(1413),a=n(5987),r=n(7313),i=n(3061),c=n(1921),s=n(1113),u=n(7592),l=n(7342),d=n(3174),p=n(3909),f=n(6417),m=["className","id"],x=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(t,e){return e.root}})({padding:"16px 24px",flex:"0 0 auto"}),g=r.forwardRef((function(t,e){var n=(0,l.Z)({props:t,name:"MuiDialogTitle"}),s=n.className,u=n.id,g=(0,a.Z)(n,m),h=n,v=function(t){var e=t.classes;return(0,c.Z)({root:["root"]},d.a,e)}(h),Z=r.useContext(p.Z).titleId,j=void 0===Z?u:Z;return(0,f.jsx)(x,(0,o.Z)({component:"h2",className:(0,i.Z)(v.root,s),ownerState:h,ref:e,variant:"h6",id:null!=u?u:j},g))}));e.Z=g}}]);